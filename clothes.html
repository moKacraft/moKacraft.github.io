<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8" />
</head>
<style>
  img {
    max-width: 100%;
  }

  a {
    color: #2ECC40;
  }

  h1,
  h2,
  strong {
    color: #111;
  }
</style>

<body>
  <div id="player"></div><br>
  <progress id="progress" max="100" value="0"></progress>
  <script>
    var duration;
    var player;

    document.getElementById("progress").addEventListener("click", function (e) {
      var percentage = e.offsetX * 100 / document.getElementById("progress").offsetWidth;
      document.getElementById("progress").value = "" + percentage;
      player.seekTo(percentage * duration / 100, true);
    });

    // 2. This code loads the IFrame Player API code asynchronously.
    var tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";

    var firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

    function onYouTubeIframeAPIReady() {
      player = new YT.Player('player', {
        height: '390',
        width: '640',
        videoId: 'fsS_IS0xtRQ',
        events: {
          'onReady': onPlayerReady,
          'onStateChange': onPlayerStateChange
        }
      });
    }

    function onPlayerReady(event) {
      event.target.playVideo();
      duration = player.getDuration();
      document.getElementById("progress").style = "width:" + document.getElementById("player").width + "px";
    }

    var done = false;
    var intervalId;

    function onPlayerStateChange(event) {
      if (event.data === YT.PlayerState.PLAYING) {
        intervalId = window.setInterval(function () {
          document.getElementById("progress").value = "" + player.getCurrentTime() * 100 / duration;
        }, 500);
      } else if (event.data === YT.PlayerState.PAUSED || event.data === YT.PlayerState.ENDED) {
        window.clearInterval(intervalId);
      }
    }

    function stopVideo() {
      player.stopVideo();
    }

  </script>
</body>

</html>