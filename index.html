<!DOCTYPE html>
<html>
<body>

<h1>Reddit but lighter</h1>

</body>
<script>
loadURL("https://cors-escape.herokuapp.com/https://reddit.com/r/all/.json?sort=hot", onDataLoaded);

function onDataLoaded(data) {
  data = JSON.parse(data);
  console.log(data);
}
function loadURL(url, callBack) {
    var xhr = new XMLHttpRequest();
    xhr.open("GET", url, true);
    xhr.setRequestHeader("Accept", "application/json");
    xhr.onloadend = onLoadEnd(xhr, callBack);
    xhr.send();
}

function onLoadEnd(request, callBack) {
  return function() {
    var status = request.status;
    var result = String(request.response);
    if (status >= 200 && status < 300) callBack(result);
  };
}
</script>
</html>
