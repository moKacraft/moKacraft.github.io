let e=new Map;function t(e,t,n){let i=document.createElement("h1");return i.id=e,i.textContent=t,i.style.cssText=n,i}function n(t){let n=l(t.name,""),o=l(t.name+"_title","display:flex;width:100vw;"),s=i(t.topicLinkHref,t.topicLinkTextContent,"font-size:2em;overflow:hidden;max-width:36vw;"),c=i(t.directLinkHref,t.directLinkTextContent,"font-size:2em;overflow:hidden;max-width:36vw;"),r=i(t.commentLinkHref,t.commentLinkTextContent,"font-size:2em;max-width:28vw;");o.appendChild(s),o.appendChild(d()),o.appendChild(c),o.appendChild(d()),o.appendChild(r),n.appendChild(o);let a=l(t.name+"_content","display:flex;border-bottom: 1px solid black;width:100vw;"),p=document.createElement("img");p.style.cssText="width:25vw;height:10vh;",p.src=t.thumbnailSrc;let m=document.createElement("h2");m.style.cssText="width:75vw;",m.textContent=t.title,a.appendChild(p),a.appendChild(m),n.appendChild(a),document.body.appendChild(n),document.getElementById(a.id).onclick=function(){!function(t){let n=t.id+"big";if(document.body.contains(document.getElementById(n)))document.getElementById(n).remove();else{let n=e.get(t.id.replace("_content","")),i=JSON.parse(n);i.element.isImage?function(e,t){let n=document.createElement("img");n.style.cssText="width:100vw;",n.src=e,n.id=t.id+"big",t.parentNode.insertBefore(n,t.nextSibling)}(i.element.href,t):i.element.isVideo?function(e,t){let n=document.createElement("video");n.style.cssText="width:100vw;",n.controls=!0,n.autoplay=!0,n.id=t.id+"big";let i=document.createElement("source");i.src=e,i.type="video/mp4",n.appendChild(i),t.parentNode.insertBefore(n,t.nextSibling)}(i.element.href,t):i.element.isEmbed&&function(e,t){let n=l(t.id+"big","width:100vw;");n.appendChild(document.createRange().createContextualFragment(e.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#039;/g,"'"))),n.firstChild.parentElement.style.cssText="width:100vw;",t.parentNode.insertBefore(n,t.nextSibling)}(i.element.href,t)}}(this)}}function i(e,t,n){let i=document.createElement("a");return i.href=e,i.textContent=t,i.style.cssText=n,i}function d(){let e=document.createElement("span");return e.textContent="â€¢",e.style.cssText="font-size:2em;margin:1vw;",e}function l(e,t){let n=document.createElement("div");return n.id=e,n.style.cssText=t,n}!function(t,i){let d=new XMLHttpRequest;d.open("GET",t,!0),d.setRequestHeader("Accept","application/json"),d.onloadend=function(e,t){return function(){let n=e.status,i=String(e.response);n>=200&&n<300&&t(i)}}(d,(function(t){t=(t=JSON.parse(t)).message;for(const i in t.children){let d=t.children[i];n(d),e.set(d.name,JSON.stringify(d))}t.after;let i=t.loadMore;!function(e,t,n,i){let d=document.createElement("button");d.id=e,d.textContent=t,d.style.cssText=n,d.onclick=i,document.body.appendChild(d)}("loadMore","Load more","height:10vh;width:100vw;font-size:3em;",(function(){location.href=i}))})),d.send()}(function(){let e=["https://displayapi.herokuapp.com/?"];const n=function(){let e={};return window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,(function(t,n,i){return e[n]=i,""})),e}();let o=n.website,s="",c="",r="";switch(e.push("website="),e.push(o),o){case void 0:case"4chan":break;case"reddit":let t=n.subreddit,i=n.sort,d=n.after;e.push("&subreddit="),e.push(t),e.push("&sort="),e.push(i),void 0===d||(e.push("&after="),e.push(d)),o="Reddit",s="./display.html?website=reddit&subreddit=all&sort=hot",c="r/"+t,r="./display.html?website=reddit&subreddit="+t+"&sort="+i}let a=l("webiste_title","display:flex;width:100vw;font-size:3vw;"),p=t("website","","");p.appendChild(i(s,o,""));let m=t("topic","","");return m.appendChild(i(r,c,"")),a.appendChild(p),a.appendChild(d()),a.appendChild(m),document.body.appendChild(a),e.join("")}());